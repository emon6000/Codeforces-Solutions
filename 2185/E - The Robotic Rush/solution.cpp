/** * author:  EmonTheBOT * created: 18.01.2026 22:28:40 **/ #include <bits/stdc++.h>typedef long long ll;using namespace std;const long long MOD = 1000000007; #define fast                     \    ios::sync_with_stdio(false); \    cin.tie(nullptr)#define yes cout << "YES\n"#define no cout << "NO\n"#define one cout << 1 << "\n"#define zero cout << 0 << "\n" ll gcdll(ll a, ll b) { return b ? gcdll(b, a % b) : a; }ll lcmll(ll a, ll b) { return (a / gcdll(a, b)) * b; } ll modAdd(ll a, ll b) { return ((a % MOD) + (b % MOD) + MOD) % MOD; }ll modSub(ll a, ll b) { return ((a % MOD) - (b % MOD) + MOD) % MOD; }ll modMul(ll a, ll b) { return ((a % MOD) * (b % MOD)) % MOD; } ll modPow(ll a, ll b){    ll res = 1;    a %= MOD;    if (a == 0)        return 0;    while (b > 0)    {        if (b & 1)            res = (res * a) % MOD;        a = (a * a) % MOD;        b >>= 1;    }    return res;} ll modDiv(ll a, ll b) { return modMul(a, modPow(b, MOD - 2)); } vector<ll> sievePrimes(ll n){    vector<bool> isPrime(n + 1, true);    isPrime[0] = isPrime[1] = false;    for (ll i = 2; i * i <= n; i++)    {        if (isPrime[i])        {            for (ll j = i * i; j <= n; j += i)                isPrime[j] = false;        }    }    vector<ll> primes;    for (ll i = 2; i <= n; i++)        if (isPrime[i])            primes.push_back(i);    return primes;} int main(){    fast;    // freopen("input.txt", "r", stdin);    // freopen("output.txt", "w", stdout);    ll t;    cin >> t;    while (t--)    {        ll n, m, k;        cin >> n >> m >> k;        vector<ll> a(n);        for (ll i = 0; i < n; i++)            cin >> a[i];         vector<ll> b(m);        for (ll i = 0; i < m; i++)            cin >> b[i];        sort(b.begin(), b.end());         string s;        cin >> s;         vector<int> left(k + 1, MOD);        vector<int> right(k + 1, MOD);         int cur = 0;        int mn = 0;        int mx = 0;         for (int i = 0; i < k; i++)        {            if (s[i] == 'L')                cur--;            else                cur++;             if (cur < mn)            {                mn = cur;                int dist = abs(mn);                if (dist <= k && left[dist] == MOD)                {                    left[dist] = i + 1;                }            }             if (cur > mx)            {                mx = cur;                int dist = mx;                if (dist <= k && right[dist] == MOD)                {                    right[dist] = i + 1;                }            }        }        vector<int> mp(k + 1, 0);         for (int i = 0; i < n; i++)        {            int die = MOD;             auto it = lower_bound(b.begin(), b.end(), a[i]);            if (it != b.end())            {                ll dist = *it - a[i];                if (dist <= k)                {                    die = min(die, right[dist]);                }            }            if (it != b.begin())            {                ll dist = a[i] - *prev(it);                if (dist <= k)                {                    die = min(die, left[dist]);                }            }            if (die != MOD)            {                mp[die]++;            }        }         int alive = n;        for (int i = 1; i <= k; i++)        {            alive -= mp[i];            cout << alive << " ";        }        cout << "\n";    }    return 0;}